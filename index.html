<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 æ‹‰æ‹‰å±±è³æ«»ä½å®¿å¤§è©•æ¯”</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap');
        body { font-family: 'Noto Sans TC', sans-serif; background-color: #fce7f3; } /* Pink-50 for sakura vibe */
        .sakura-bg {
            background-image: url('https://images.unsplash.com/photo-1496568816309-51d7c20e3b21?q=80&w=2531&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
        }
        .glass-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }
        .modal {
            transition: opacity 0.3s ease-in-out;
            opacity: 0;
            pointer-events: none;
        }
        .modal.active {
            opacity: 1;
            pointer-events: auto;
        }
        .vote-btn:active { transform: scale(0.95); }
        .hidden-row { display: none; }
        .map-label {
            background-color: rgba(255, 255, 255, 0.9);
            border: 1px solid #fecdd3;
            border-radius: 4px;
            padding: 2px 6px;
            font-weight: bold;
            color: #d1005a;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
        }
        .map-label-tea {
            background-color: rgba(255, 255, 255, 0.9);
            border: 1px solid #10b981;
            color: #047857;
        }
        .map-label-forest {
            background-color: rgba(255, 255, 255, 0.9);
            border: 1px solid #f97316;
            color: #c2410c;
        }
    </style>
</head>
<body class="min-h-screen text-gray-800">

    <!-- Room Details Modal -->
    <div id="room-modal" class="modal fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4">
        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto transform transition-all scale-95" id="modal-content">
            <div class="sticky top-0 bg-white z-10 p-4 md:p-6 border-b flex justify-between items-center">
                <div>
                    <h3 class="text-lg md:text-2xl font-bold text-gray-800" id="modal-title">æ°‘å®¿åç¨±</h3>
                    <p class="text-xs md:text-sm text-gray-500" id="modal-subtitle">æˆ¿å‹è©³ç´°è©•æ¯”</p>
                </div>
                <button onclick="closeModal()" class="text-gray-400 hover:text-gray-600 transition">
                    <i class="fas fa-times text-xl md:text-2xl"></i>
                </button>
            </div>
            <div class="p-4 md:p-6" id="modal-body">
                <!-- Room content goes here -->
            </div>
        </div>
    </div>

    <!-- Hero Section -->
    <div class="relative h-96 sakura-bg flex items-center justify-center text-center">
        <div class="absolute inset-0 bg-black/40"></div>
        <div class="relative z-10 text-white p-4 w-full">
            <h1 class="text-3xl md:text-6xl font-bold mb-4 text-pink-200">2026 æ‹‰æ‹‰å±±è³æ«»ä½å®¿æ”»ç•¥</h1>
            <p class="text-lg md:text-2xl mb-2">å…¥ä½æ—¥æœŸï¼š2026/02/26 - 02/28</p>
            <p class="text-base md:text-lg text-pink-100">ç²¾é¸ 7 é–“ç†±é–€æ°‘å®¿ãƒ»å…¨æ–¹ä½æ·±åº¦è©•æ¯”</p>
            <div class="mt-8 flex flex-col md:flex-row gap-3 md:gap-4 justify-center px-4">
                <a href="#comparison-table" class="bg-pink-600 hover:bg-pink-700 text-white px-6 py-3 rounded-full font-bold transition w-full md:w-auto shadow-lg">æŸ¥çœ‹æ¯”è¼ƒè¡¨</a>
                <a href="#cards-section" class="bg-white hover:bg-gray-100 text-pink-600 px-6 py-3 rounded-full font-bold transition w-full md:w-auto shadow-lg">æŸ¥çœ‹æ°‘å®¿è©³æƒ…</a>
            </div>
        </div>
    </div>

    <!-- Executive Summary -->
    <div class="container mx-auto px-4 py-12">
        <div class="grid md:grid-cols-3 gap-6 mb-12">
            <div class="bg-white p-6 rounded-2xl shadow-lg border-l-4 border-pink-500">
                <h3 class="text-xl font-bold text-gray-700 mb-2">ğŸ† ç¶œåˆæ¨è–¦</h3>
                <p class="text-2xl font-bold text-pink-600">è°·é»å’–å•¡æ°‘å®¿</p>
                <p class="text-gray-500 text-sm mt-2">ä¸€æ³ŠäºŒé£Ÿã€ç»ç’ƒå±‹æ™¯è§€ã€é•·è¼©æœ€æ„›ã€‚</p>
            </div>
            <div class="bg-white p-6 rounded-2xl shadow-lg border-l-4 border-blue-500">
                <h3 class="text-xl font-bold text-gray-700 mb-2">ğŸŒ¡ï¸ æ€•å†·é¦–é¸</h3>
                <p class="text-2xl font-bold text-blue-600">ä¸‰å¥½èŠåœ’</p>
                <p class="text-gray-500 text-sm mt-2">æµ´å®¤æš–æ°£ã€æ¥µåº¦ä¹¾æ·¨ã€è‡ªç…®ç«é‹ã€‚</p>
            </div>
            <div class="bg-white p-6 rounded-2xl shadow-lg border-l-4 border-purple-500">
                <h3 class="text-xl font-bold text-gray-700 mb-2">ğŸ“¸ ç¶²ç¾ / è§€æ˜Ÿ</h3>
                <p class="text-2xl font-bold text-purple-600">é‡æ­Œå½¼å²¸ / æ˜ŸåŸé¤¨</p>
                <p class="text-gray-500 text-sm mt-2">ç¾ä»£è¨­è¨ˆã€ç„¡æ•µå±±æ™¯ã€çµ•ç¾å¤•é™½ã€‚</p>
            </div>
        </div>

        <!-- Interactive Table Section -->
        <div id="comparison-table" class="bg-white rounded-2xl md:rounded-3xl shadow-xl overflow-hidden mb-12 md:mb-16">
            <div class="p-4 md:p-6 bg-gray-50 flex flex-col md:flex-row gap-4 justify-between items-center border-b">
                <h2 class="text-xl md:text-2xl font-bold text-gray-800 flex items-center"><i class="fas fa-table mr-2 text-pink-500"></i><span class="whitespace-nowrap">è©³ç´°è¦æ ¼æ¯”è¼ƒè¡¨</span></h2>
                <div class="flex flex-wrap gap-2 text-sm justify-center w-full md:w-auto">
                    <button onclick="filterTable('all')" class="flex-1 md:flex-none px-3 md:px-4 py-2 rounded-lg bg-pink-100 text-pink-700 font-medium hover:bg-pink-200 focus:ring-2 ring-pink-500 whitespace-nowrap">é¡¯ç¤ºå…¨éƒ¨</button>
                    <button onclick="filterTable('heating')" class="flex-1 md:flex-none px-3 md:px-4 py-2 rounded-lg bg-blue-100 text-blue-700 font-medium hover:bg-blue-200 whitespace-nowrap">å¼·èª¿æš–æ°£</button>
                    <button onclick="filterTable('food')" class="flex-1 md:flex-none px-3 md:px-4 py-2 rounded-lg bg-green-100 text-green-700 font-medium hover:bg-green-200 whitespace-nowrap">å«æ™šé¤</button>
                </div>
            </div>
            <div class="overflow-x-auto">
                <table class="w-full text-left border-collapse min-w-[600px] md:min-w-full">
                    <thead>
                        <tr class="bg-gray-100 text-gray-600 uppercase text-sm leading-normal">
                            <th class="py-3 px-3 md:py-4 md:px-6 font-bold cursor-pointer hover:bg-gray-200 whitespace-nowrap" onclick="sortTable(0)">åç¨± <i class="fas fa-sort"></i></th>
                            <th class="py-3 px-3 md:py-4 md:px-6 font-bold cursor-pointer hover:bg-gray-200 whitespace-nowrap" onclick="sortTable(1)">é ä¼°åƒ¹ä½ <i class="fas fa-sort"></i></th>
                            <th class="py-3 px-3 md:py-4 md:px-6 font-bold whitespace-nowrap">æš–æ°£è¨­å‚™ <span class="hidden md:inline text-xs bg-red-100 text-red-600 px-1 rounded">é‡è¦</span></th>
                            <th class="py-3 px-3 md:py-4 md:px-6 font-bold whitespace-nowrap">é¤é£²ç‰¹è‰²</th>
                            <th class="py-3 px-3 md:py-4 md:px-6 font-bold whitespace-nowrap hidden md:table-cell">æ™¯è§€/ç‰¹è‰²</th>
                            <th class="py-3 px-3 md:py-4 md:px-6 font-bold center whitespace-nowrap">è©•åˆ†</th>
                        </tr>
                    </thead>
                    <tbody id="table-body" class="text-gray-700 text-sm">
                        <!-- Rows will be populated by JS -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Cards Section -->
        <div id="cards-section" class="mb-16">
            <div class="mb-8">
                <h2 class="text-3xl font-bold text-gray-800">å€™é¸åå–®è©³ç´°ä»‹ç´¹</h2>
                <p class="text-gray-500 mt-2">ç²¾é¸ 7 é–“å„ªè³ªæ°‘å®¿ï¼Œé»æ“Šå¡ç‰‡æŸ¥çœ‹è©³ç´°æˆ¿å‹æ”»ç•¥èˆ‡è©•åƒ¹ (2026 æœ€æ–°ç‰ˆ)</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8" id="cards-container">
                <!-- Cards will be populated by JS -->
            </div>
        </div>

        <!-- Map Section -->
        <div id="map-section" class="mb-12 md:mb-24">
             <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-4 md:mb-6">
                 <div>
                    <h2 class="text-2xl md:text-3xl font-bold text-gray-800"><i class="fas fa-map-marked-alt text-pink-500 mr-2"></i>ä½å®¿ä½ç½®åˆ†ä½ˆåœ–</h2>
                    <p class="text-gray-500 text-sm md:text-base">å¿«é€ŸæŸ¥çœ‹å„æ°‘å®¿ä½ç½®ï¼Œé»æ“Šæ¨™è¨˜å¯æŸ¥çœ‹å°èˆªè³‡è¨Š</p>
                 </div>
             </div>
             <div class="bg-white p-2 rounded-2xl md:rounded-3xl shadow-xl">
                 <div id="map" class="w-full h-[400px] md:h-[500px] rounded-xl md:rounded-2xl z-0"></div>
             </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8 text-center">
        <p class="opacity-60">æ­¤é é¢ç‚º 2026 æ‹‰æ‹‰å±±è³æ«»è¡Œç¨‹è¦åŠƒå°ˆç”¨</p>
        <p class="text-sm opacity-40 mt-2">è³‡æ–™ä¾†æºï¼šTripAdvisor, Booking.com, Google Reviews ç¶œåˆæ•´ç†</p>
    </footer>

    <script>
        // Data Source
        const hotels = [
            {
                id: 1,
                name: "è°·é»å’–å•¡æ°‘å®¿",
                engName: "Goodian Coffee",
                price: 3400,
                priceDisplay: "$$$ ($3,200~$16,000)",
                heating: "æˆ¿å…§æš–æ°£/é›»ç†±æ¯¯",
                heatingScore: 4,
                food: "ä¸€æ³ŠäºŒé£Ÿ (å«æ—©æ™šé¤)",
                cleanliness: "æ¥µä½³",
                view: "270åº¦ç»ç’ƒå±‹æ™¯è§€",
                rating: 4.6,
                tags: ["heating", "food"],
                desc: "åœ’å€æœ€å¤§æˆ¿å‹ã€æªœæœ¨æ¾¡æ¡¶ã€ç„¡éšœç¤™è¨­è¨ˆã€å®¶åº­æˆ¿å‹å¤šï¼Œéƒ¨åˆ†æˆ¿å‹ä¸æ¥å—12æ­²ä»¥ä¸‹å…¥ä½ã€‚",
                legal: "åˆæ³• #030",
                attention: "å…¨é¢è¬çµ•å¯µç‰©å…¥ä½ï¼Œç’°ä¿æ—…åº—ä¸ä¸»å‹•æä¾›æ‹‹æ£„å¼ç›¥æ´—ç”¨å…·ã€‚",
                image: "https://images.unsplash.com/photo-1510798831971-661eb04b3739?q=80&w=600&auto=format&fit=crop",
                mapUrl: "https://www.google.com/maps/search/?api=1&query=è°·é»å’–å•¡æ°‘å®¿+æ‹‰æ‹‰å±±",
                lat: 24.689, lng: 121.408,
                rooms: [
                    {
                        name: "è°·é»æœ¨å±‹ Villa",
                        prices: "$4,800 èµ·",
                        features: ["270åº¦ç’°æ™¯æµ´å®¤", "æœ€å¤§æˆ¿å‹", "ä¸æ¥å—12æ­²ä»¥ä¸‹å…¥ä½"],
                        note: "é©åˆå®¶åº­ã€åœ˜é«”ï¼Œæ™¯è§€æµ´å®¤ã€‚",
                        image: "https://images.unsplash.com/photo-1540518614846-7eded433c457?q=80&w=600&auto=format&fit=crop",
                        link: "http://www.goodian.com.tw/roomcontent.html?rid=27398#menu"
                    },
                    {
                        name: "B æ‡æ·å¥—æˆ¿",
                        prices: "$3,400 èµ·",
                        features: ["æªœæœ¨æ¾¡æ¡¶", "æ™¯è§€æµ´å®¤"],
                        note: "å”¯ä¸€åŒæ™‚æ“æœ‰æªœæœ¨æ¾¡æ¡¶èˆ‡æ™¯è§€æµ´å®¤çš„æˆ¿å‹ã€‚",
                        image: "https://images.unsplash.com/photo-1554995207-c18c203602cb?q=80&w=600&auto=format&fit=crop",
                        link: "http://www.goodian.com.tw/roomcontent.html?rid=26916#menu"
                    },
                    {
                        name: "A ç”œæŸ¿å¥—æˆ¿",
                        prices: "$3,800 èµ·",
                        features: ["ç„¡éšœç¤™å‹å–„è¨­è¨ˆ", "ç„¡éšæ¢¯å‹•ç·š"],
                        note: "åœè»Šå ´åˆ°æµ´å®¤ç„¡éšæ¢¯ï¼Œé•·è¼©å‹å–„ã€‚",
                        image: "https://images.unsplash.com/photo-1554995207-c18c203602cb?q=80&w=600&auto=format&fit=crop",
                        link: "http://www.goodian.com.tw/roomcontent.html?rid=27396#menu"
                    },
                    {
                        name: "201 æ¥“è‘‰ (é›™äºº/å››äºº)",
                        prices: "$3,800(å¹³)/$4,800(å‡)",
                        features: ["ç¨ç«‹æµ´ç¼¸", "ä½æ–¼äºŒé¤¨"],
                        note: "é›™äººåºŠx2å¼µï¼Œæœ‰æµ´ç¼¸ï¼Œæˆ¿åƒ¹é©ä¸­ã€‚",
                        image: "https://images.unsplash.com/photo-1540518614846-7eded433c457?q=80&w=600&auto=format&fit=crop",
                        link: "http://www.goodian.com.tw/roomcontent.html?rid=26921#menu"
                    },
                    {
                        name: "202 éŠ€æ (é›™äºº/å››äºº)",
                        prices: "$4,000(å¹³)/$5,000(å‡)",
                        features: ["è¨­è¨ˆæ„Ÿæˆ¿å‹", "å€‹äººæµ´ç¼¸"],
                        note: "é›™äººåºŠx2å¼µï¼ŒäºŒé¤¨æˆ¿å‹ä¸­åƒ¹æ ¼è¼ƒé«˜ã€‚",
                        image: "https://images.unsplash.com/photo-1540518614846-7eded433c457?q=80&w=600&auto=format&fit=crop",
                        link: "http://www.goodian.com.tw/roomcontent.html?rid=26921#menu"
                    },
                    {
                        name: "203 ç´«è—¤ (é›™äºº/å››äºº)",
                        prices: "$3,200(å¹³)/$4,500(å‡)",
                        features: ["CPå€¼é«˜", "å€‹äººæµ´ç¼¸"],
                        note: "é›™äººåºŠx2å¼µï¼Œå¹³æ—¥åƒ¹æ ¼æœ€è¦ªæ°‘ã€‚",
                        image: "https://images.unsplash.com/photo-1540518614846-7eded433c457?q=80&w=600&auto=format&fit=crop",
                        link: "http://www.goodian.com.tw/roomcontent.html?rid=26921#menu"
                    },
                    {
                        name: "C æ°´èœœæ¡ƒå¥—æˆ¿",
                        prices: "$3,400 èµ·",
                        features: ["å°ˆå±¬ç§äººé™½å°", "è¿‘é¤å»³"],
                        note: "è¨­æœ‰å°ˆå±¬é™½å°ï¼Œé›¢é¤å»³è¼ƒè¿‘ã€‚",
                        image: "https://images.unsplash.com/photo-1554995207-c18c203602cb?q=80&w=600&auto=format&fit=crop",
                        link: "http://www.goodian.com.tw/roomcontent.html?rid=26920#menu"
                    },
                    {
                        name: "1F æ«»èŠ±å®¶åº­æˆ¿",
                        prices: "$16,000 èµ·",
                        features: ["ä¸‰æˆ¿ä¸€å»³å››è¡›æµ´", "å¯å®¹ç´10-14äºº"],
                        note: "é©åˆå¤§å®¶æ—æˆ–åœ˜é«”ã€‚",
                        image: "https://images.unsplash.com/photo-1554995207-c18c203602cb?q=80&w=600&auto=format&fit=crop",
                        link: "http://www.goodian.com.tw/roomcontent.html?rid=31921#menu"
                    }
                ]
            },
            {
                id: 2,
                name: "é‡æ­Œå½¼å²¸",
                engName: "Ye Ge Bi An",
                price: 3200,
                priceDisplay: "$$ (ç´„$3,200èµ·)",
                heating: "å†·æš–ç©ºèª¿ (æ–°)",
                heatingScore: 4,
                food: "æ—©é¤ (ç„¡æ™šé¤)",
                cleanliness: "9.1",
                view: "ç„¡æ•µå±±é™µç·š",
                rating: 4.8,
                tags: ["heating", "view"],
                desc: "ç¾ä»£ç°¡ç´„è¨­è¨ˆï¼Œå¹´è¼•äººæœ€æ„›ï¼Œæ‹ç…§æœ€ç¾ã€‚",
                legal: "æœªç™»è¨˜ (é•è¦)",
                attention: "è§€å…‰å±€åˆ—ç®¡æœªç™»è¨˜ï¼Œè«‹è‡ªè¡Œè©•ä¼°é¢¨éšªã€‚ä½ç½®è¼ƒé«˜åé ï¼Œå»ºè­°é–‹è»Šå‰å¾€ã€‚",
                image: "https://images.unsplash.com/photo-1449844908441-8829872d2607?q=80&w=600&auto=format&fit=crop",
                mapUrl: "https://www.google.com/maps/search/?api=1&query=é‡æ­Œå½¼å²¸+æ‹‰æ‹‰å±±",
                lat: 24.695, lng: 121.412,
                rooms: [
                    {
                        name: "é›™äººæˆ¿",
                        prices: "ç´„$3,200(å¹³)",
                        features: ["å¤§çª—æ¡å…‰", "å†·æš–æ°£ç©ºèª¿", "é›»ç†±æ¯¯"],
                        note: "è£æ½¢æ–°ç©ç°¡æ½”ï¼Œè¦–é‡å»£é—Šï¼Œæ³¨æ„æœªåˆæ³•ç™»è¨˜",
                        image: "https://images.unsplash.com/photo-1560448204-e897cda34471?q=80&w=600&auto=format&fit=crop",
                        link: "https://www.google.com/search?q=é‡æ­Œå½¼å²¸+æˆ¿å‹ç…§ç‰‡"
                    },
                    {
                        name: "å››äººæœ¨å±‹",
                        prices: "ç´„$5,000(å¹³)",
                        features: ["ç©ºé–“å¯¬æ•", "å†·æš–æ°£ç©ºèª¿", "é›»ç†±æ¯¯"],
                        note: "é©åˆå¹´è¼•åœ˜é«”ï¼Œæµ´å®¤æš–æ°£åŠŸèƒ½æ­£å¸¸",
                        image: "https://images.unsplash.com/photo-1600334057887-f269a9415668?q=80&w=600&auto=format&fit=crop",
                        link: "https://www.google.com/search?q=é‡æ­Œå½¼å²¸+æˆ¿å‹ç…§ç‰‡"
                    }
                ]
            },
            {
                id: 3,
                name: "ä¸‰å¥½èŠåœ’",
                engName: "San Hao Manor",
                price: 2800,
                priceDisplay: "$$ ($2,800~$6,500)",
                heating: "æˆ¿å…§+æµ´å®¤æš–æ°£",
                heatingScore: 5,
                food: "æ—©é¤",
                cleanliness: "9.5 (ä¸€å¡µä¸æŸ“)",
                view: "å¹½éœå±±æ—/æœåœ’",
                rating: 4.8,
                tags: ["heating", "clean"],
                desc: "å¤šæ¨£æœ¨å±‹èˆ‡å¥—æˆ¿ï¼Œè§€æ™¯é™½å°ï¼Œæ—©é¤ï¼Œéƒ¨åˆ†æˆ¿å‹ä¸å»ºè­°é•·è¼©æˆ–å¹¼ç«¥å…¥ä½ã€‚",
                legal: "åˆæ³• #111",
                attention: "ä¸æä¾›æ‹‹æ£„å¼ç›¥æ´—ç”¨å“ï¼Œç¦æ­¢æ”œå¸¶å¯µç‰©ã€‚",
                image: "https://images.unsplash.com/photo-1587061949409-02df41d5e562?q=80&w=600&auto=format&fit=crop",
                mapUrl: "https://www.google.com/maps/search/?api=1&query=ä¸‰å¥½èŠåœ’+æ‹‰æ‹‰å±±",
                lat: 24.700, lng: 121.415,
                rooms: [
                    { name: "å±±æ™¯é›™äººæˆ¿", prices: "$2,800(å¹³)/$3,500(å‡)/$4,500(å®š)", features: ["å°æœ¨å±‹", "é¢å±±æ™¯è§€"], note: "æ¨™æº–2äººæˆ¿ï¼Œè§€æ™¯é™½å°ã€‚", image: "https://images.unsplash.com/photo-1505693314120-0d4438688849?q=80&w=600&auto=format&fit=crop", link: "https://sunhow.okgo.tw/roomcontent.html?rid=1989#menu" },
                    { name: "èŠ±åœ’é›™äººæˆ¿", prices: "$2,800(å¹³)/$3,500(å‡)/$4,500(å®š)", features: ["å¥—æˆ¿å‹å¼"], note: "æ¨™æº–2äººæˆ¿ï¼Œé¢å±±æ™¯è§€ã€‚", image: "https://images.unsplash.com/photo-1505693314120-0d4438688849?q=80&w=600&auto=format&fit=crop", link: "https://sunhow.okgo.tw/roomcontent.html?rid=1990#menu" },
                    { name: "æ™¯è§€è¦ªå­äº”äººæˆ¿", prices: "$4,000(å¹³)/$5,000(å‡)/$5,500(å®š)", features: ["2å¼µé›™äººåºŠ+1å°åºŠ", "å°æœ¨å±‹"], note: "é©åˆå®¶åº­ï¼Œæ™¯è§€ä½³ã€‚", image: "https://images.unsplash.com/photo-1595526114035-0d45ed16cfbf?q=80&w=600&auto=format&fit=crop", link: "https://sunhow.okgo.tw/roomcontent.html?rid=37286#menu" },
                    { name: "æ™¯è§€å››äººæˆ¿(3F)", prices: "$3,500(å¹³)/$4,000(å‡)/$5,000(å®š)", features: ["å¥—æˆ¿å‹å¼", "æ™¯è§€è¦–é‡ä½³"], note: "å››äººæˆ¿ï¼Œä¸‰æ¨“æ™¯è§€ã€‚", image: "https://images.unsplash.com/photo-1595526114035-0d45ed16cfbf?q=80&w=600&auto=format&fit=crop", link: "https://sunhow.okgo.tw/roomcontent.html?rid=24614#menu" },
                    { name: "é›…å…¸å››äººæˆ¿(2F)", prices: "$3,500(å¹³)/$4,000(å‡)/$5,000(å®š)", features: ["å¥—æˆ¿å‹å¼"], note: "å››äººæˆ¿ï¼ŒäºŒæ¨“ã€‚", image: "https://images.unsplash.com/photo-1595526114035-0d45ed16cfbf?q=80&w=600&auto=format&fit=crop", link: "https://sunhow.okgo.tw/roomcontent.html?rid=23479#menu" },
                    { name: "ç¶“å…¸å››äººæˆ¿(2F)", prices: "$3,500(å¹³)/$4,000(å‡)/$5,000(å®š)", features: ["å°æœ¨å±‹", "å»ºè­°å®¶åº­å…¥ä½"], note: "å››äººæˆ¿ï¼ŒäºŒæ¨“ã€‚", image: "https://images.unsplash.com/photo-1595526114035-0d45ed16cfbf?q=80&w=600&auto=format&fit=crop", link: "https://sunhow.okgo.tw/roomcontent.html?rid=1991#menu" },
                    { name: "ç¨æ£Ÿæ™¯è§€æœ¨å±‹å››äººæˆ¿", prices: "$5,000(å¹³)/$5,500(å‡)/$6,500(å®š)", features: ["æ¨“å±¤è¼ƒé«˜"], note: "ä¸å»ºè­°é•·è¼©æˆ–å¹¼ç«¥å…¥ä½ã€‚", image: "https://images.unsplash.com/photo-1595526114035-0d45ed16cfbf?q=80&w=600&auto=format&fit=crop", link: "https://sunhow.okgo.tw/roomcontent.html?rid=37285#menu" }
                ]
            },
            {
                id: 4,
                name: "é›²äº«æ£§æ°‘å®¿",
                engName: "Yun Xiang Zhan",
                price: 2400,
                priceDisplay: "$$ ($2,400~$12,000)",
                heating: "é›»æš–å™¨/æœ¨å±‹",
                heatingScore: 3,
                food: "å¯è‡ªç…®/éƒ¨åˆ†å«æ—©é¤",
                cleanliness: "9.0",
                view: "ç¨æ£Ÿå°æœ¨å±‹/åŒ…æ£Ÿ",
                rating: 4.7,
                tags: ["kitchen"],
                desc: "åŒ…æ£Ÿã€ç¨æ£Ÿæœ¨å±‹ã€é›…æˆ¿ï¼Œé©åˆåœ˜é«”ã€‚é›…æˆ¿éœ€å…±ç”¨è¡›æµ´ã€‚",
                legal: "åˆæ³• #0091",
                attention: "é›…æˆ¿éœ€å…±ç”¨ä¸€æ¨“è¡›æµ´ã€å®¢å»³èˆ‡å»šæˆ¿ã€‚",
                image: "https://images.unsplash.com/photo-1542718610-a1d656d1884c?q=80&w=600&auto=format&fit=crop",
                mapUrl: "https://www.google.com/maps/search/?api=1&query=é›²äº«æ£§+æ‹‰æ‹‰å±±",
                lat: 24.698, lng: 121.418,
                rooms: [
                    { name: "åŒ…æ£Ÿæ¨“ä¸­æ¨“æœ¨å±‹", prices: "$10,000(å¹³)/$12,000(å‡)", features: ["æ¨™æº–10äºº", "ä¸€æ¨“é›™äººèˆ‡å››äººé›…æˆ¿", "äºŒæ¨“å››äººå¥—æˆ¿"], note: "é©åˆåœ˜é«”åŒ…æ£Ÿã€‚", image: "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?q=80&w=600&auto=format&fit=crop", link: "https://ysz.ego.tw/roomcontent.html?rid=35243#menu" },
                    { name: "ç¨æ£Ÿæœ¨å±‹å››äººæˆ¿", prices: "$3,600(å¹³)/$4,500(å‡)", features: ["ç¨ç«‹æœ¨å±‹", "4äººå…¥ä½"], note: "ç¨ç«‹æœ¨å±‹ï¼Œé©åˆå®¶åº­ã€‚", image: "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?q=80&w=600&auto=format&fit=crop", link: "https://ysz.ego.tw/roomcontent.html?rid=35245#menu" },
                    { name: "å››äººå¥—æˆ¿", prices: "$3,600(å¹³)/$4,500(å‡)", features: ["4äººå…¥ä½", "ç¨ç«‹è¡›æµ´"], note: "äºŒæ¨“å¥—æˆ¿ã€‚", image: "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?q=80&w=600&auto=format&fit=crop", link: "https://ysz.ego.tw/roomcontent.html?rid=35241#menu" },
                    { name: "é›™äººé›…æˆ¿", prices: "$2,400(å¹³)/$3,000(å‡)", features: ["2äººå…¥ä½", "å…±ç”¨è¡›æµ´"], note: "ä¸€æ¨“è‡¥æˆ¿ã€‚", image: "https://images.unsplash.com/photo-1512918580421-b2feee0b8508?q=80&w=600&auto=format&fit=crop", link: "https://ysz.ego.tw/roomcontent.html?rid=35242#menu" },
                    { name: "å››äººé›…æˆ¿", prices: "$3,200(å¹³)/$4,000(å‡)", features: ["4äººå…¥ä½", "å…±ç”¨è¡›æµ´"], note: "ä¸€æ¨“æœ¨å±‹å…§éƒ¨é›…æˆ¿ã€‚", image: "https://images.unsplash.com/photo-1512918580421-b2feee0b8508?q=80&w=600&auto=format&fit=crop", link: "https://ysz.ego.tw/roomcontent.html?rid=35244#menu" }
                ]
            },
            {
                id: 5,
                name: "é›²å±±ä»™å¢ƒæ°‘å®¿",
                engName: "Cloud Wonderland",
                price: 3800,
                priceDisplay: "$$$ ($3,800~$54,800)",
                heating: "é›»ç†±æ¯¯+ç©ºèª¿",
                heatingScore: 3,
                food: "ä¸­å¼æ—©é¤",
                cleanliness: "å„ªè‰¯(9.2)",
                view: "é«˜æµ·æ‹”é›²æµ·",
                rating: 4.6,
                tags: ["view"],
                desc: "é„°è¿‘ç¥æœ¨æ—ï¼Œå•†å‹™åºŠå¢Šã€ç¾½çµ¨è¢«ï¼Œéƒ¨åˆ†æˆ¿å‹å¯åŒ…æ£Ÿã€‚",
                legal: "åˆæ³•",
                attention: "åŠ åºŠ/åŠ äººéœ€åŠ åƒ¹ï¼Œ8æ­²ä»¥ä¸‹ä¸è¨ˆè²»ã€‚",
                image: "https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?q=80&w=600&auto=format&fit=crop",
                mapUrl: "https://www.google.com/maps/search/?api=1&query=é›²å±±ä»™å¢ƒæ°‘å®¿+æ‹‰æ‹‰å±±",
                lat: 24.705, lng: 121.420,
                rooms: [
                    { name: "é›™äººæ™¯è§€æˆ¿", prices: "$3,800(å¹³)/$4,300(æ—º)/$4,800(å‡)", features: ["å•†å‹™åºŠå¢Š", "ç¾½çµ¨è¢«", "ç©ºèª¿/é›»ç†±æ¯¯"], note: "é«˜ç´šå‚™å“ï¼Œæ™¯è§€ä½³ã€‚", image: "https://images.unsplash.com/photo-1522771759335-af0706c83691?q=80&w=600&auto=format&fit=crop", link: "https://www.lalamfl.com/rooms.html" },
                    { name: "å››äººæ™¯è§€æˆ¿", prices: "$5,500(å¹³)/$6,000(æ—º)/$6,500(å‡)", features: ["èˆ’é©åºŠèˆ–", "å¤§çª—æ™¯", "ç©ºèª¿/é›»ç†±æ¯¯"], note: "æˆ¿å¤–æœ‰é™½å°ï¼Œæ™¯è§€ä½³ã€‚", image: "https://images.unsplash.com/photo-1566073771259-6a8506099945?q=80&w=600&auto=format&fit=crop", link: "https://www.lalamfl.com/rooms.html" },
                    { name: "åŒ…æ£Ÿæœå‹™", prices: "$44,800(å¹³)/$49,800(æ—º)/$54,800(å‡)", features: ["å¯åŒ…æ£Ÿ"], note: "é©åˆåœ˜é«”ã€‚", image: "https://images.unsplash.com/photo-1566073771259-6a8506099945?q=80&w=600&auto=format&fit=crop", link: "https://www.lalamfl.com/rooms.html" }
                ]
            },
            {
                id: 6,
                name: "æ‹‰æ‹‰å±±ç·£åœ“æ—…å¢… - æ˜ŸåŸé¤¨",
                engName: "Yuan Yuan Villa - Star City",
                price: 3500,
                priceDisplay: "$$ ($3,500~$5,000)",
                heating: "å†·æš–ç©ºèª¿",
                heatingScore: 4,
                food: "æ—©é¤",
                cleanliness: "æ¥µæ–°",
                view: "å¤•é™½/è§€æ˜Ÿ",
                rating: 4.9,
                tags: ["heating", "new"],
                desc: "2022å¹´åº•å…¨æ–°è£æ½¢ï¼Œæ“æœ‰çµ•ç¾å¤•é™½æ™¯è‰²ï¼Œæ‰€æœ‰æˆ¿å‹å‡ç‚ºå››äººæˆ¿å‹ã€‚",
                legal: "åˆæ³•(æ—…å¢…)",
                attention: "è‹¥å…©äººå…¥ä½åƒ…éœ€ä½¿ç”¨ä¸€å¼µé›™äººåºŠï¼Œå¯æŠ˜æŠµ $300ã€‚",
                image: "https://images.unsplash.com/photo-1519681393784-d120267933ba?q=80&w=600&auto=format&fit=crop",
                mapUrl: "https://www.google.com/maps/search/?api=1&query=æ‹‰æ‹‰å±±æ˜ŸåŸé¤¨",
                lat: 24.690, lng: 121.405,
                rooms: [
                    { name: "å››äººæˆ¿å‹ - å…©äººå…¥ä½", prices: "$3,500(å¹³)/$4,000(æ«»èŠ±å­£)/$4,500(å‡)", features: ["åŸæœ¨æè³ª", "åŠ å¤§çª—", "æˆ¶å¤–ç¨ç«‹æ³¡èŒ¶æ¡Œ"], note: "è‹¥å…©äººå…¥ä½åƒ…éœ€ä½¿ç”¨ä¸€å¼µé›™äººåºŠï¼Œå¯æŠ˜æŠµ $300ã€‚", image: "https://images.unsplash.com/photo-1616594039964-40891d921636?q=80&w=600&auto=format&fit=crop", link: "https://phellip2021.wixsite.com/yuanyuanvilla/copy-of-rooms-1" },
                    { name: "å››äººæˆ¿å‹ - å››äººå…¥ä½", prices: "$4,000(å¹³)/$4,500(æ«»èŠ±å­£)/$5,000(å‡)", features: ["åŸæœ¨æè³ª", "åŠ å¤§çª—", "æˆ¶å¤–ç¨ç«‹æ³¡èŒ¶æ¡Œ"], note: "å››äººæˆ¿å‹ï¼Œé©åˆå®¶åº­æˆ–åœ˜é«”ã€‚", image: "https://images.unsplash.com/photo-1560185007-c5ca9d2c014d?q=80&w=600&auto=format&fit=crop", link: "https://phellip2021.wixsite.com/yuanyuanvilla/copy-of-rooms-1" }
                ]
            },
            {
                id: 7,
                name: "è–”è–‡è°·æ°‘å®¿",
                engName: "Rose Valley",
                price: 3200,
                priceDisplay: "$$ ($3,200~$4,000)",
                heating: "é›»ç†±æ¯¯+æš–é¢¨æ‰‡",
                heatingScore: 3,
                food: "æ—©é¤ (æ™šé¤éœ€é è¨‚)",
                cleanliness: "9.0",
                view: "æºªè°·/èŠ±åœ’",
                rating: 9.0,
                tags: ["food"],
                desc: "ä½æ–¼å¾©èˆˆé„‰æ´›æµ®æ‘ç¾¤å±±åŒ…åœçš„å¹½éœæºªè°·ä¸­ï¼Œå››å‘¨æ¨¹è”­åŠæµæ°´ç’°ç¹ï¼Œé©åˆè¦ªè¿‘è‡ªç„¶ã€‚",
                legal: "åˆæ³• #108",
                attention: "ç„¡å†·æ°£ä¾›æ‡‰(å±±ä¸Šæ¶¼çˆ½)ï¼Œå†¬å­£æœ‰é›»ç†±æ¯¯ã€‚",
                image: "https://images.unsplash.com/photo-1449156493391-d2cfa28e468b?q=80&w=600&auto=format&fit=crop",
                mapUrl: "https://www.google.com/maps/search/?api=1&query=è–”è–‡è°·æ°‘å®¿+æ‹‰æ‹‰å±±",
                lat: 24.787, lng: 121.365,
                rooms: [
                    {
                        name: "é›™äººæˆ¿",
                        prices: "$3,200 èµ·",
                        features: ["é›»ç†±æ¯¯", "æš–é¢¨æ‰‡"],
                        note: "å®¢æˆ¿å¯¬æ•æ˜äº®ï¼ŒåºŠé‹ªèˆ’é©ã€‚",
                        image: "https://images.unsplash.com/photo-1566665797739-1674de7a421a?q=80&w=600&auto=format&fit=crop",
                        link: "https://www.booking.com/hotel/tw/qiang-wei-gu.html"
                    },
                    {
                        name: "å››äººæˆ¿",
                        prices: "$4,000 èµ·",
                        features: ["å¤§ç©ºé–“", "é©åˆå®¶åº­"],
                        note: "éƒ¨ä»½å¯åŠ åºŠï¼Œå¤œé–“æº«æš–ã€‚",
                        image: "https://images.unsplash.com/photo-1596394516093-501ba68a0ba6?q=80&w=600&auto=format&fit=crop",
                        link: "https://www.booking.com/hotel/tw/qiang-wei-gu.html"
                    }
                ]
            }
        ];

        // DOM Elements
        const tableBody = document.getElementById('table-body');
        const cardsContainer = document.getElementById('cards-container');
        let map = null;

        // Init
        function init() {
            renderTable(hotels);
            renderCards();
            initMap();
        }

        function initMap() {
            // Center on Lalashan area
            map = L.map('map').setView([24.690, 121.390], 13);

            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
            }).addTo(map);

            // Custom Icons
            const pinkIcon = new L.Icon({
                iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-violet.png',
                shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
                iconSize: [25, 41],
                iconAnchor: [12, 41],
                popupAnchor: [1, -34],
                shadowSize: [41, 41]
            });

            const greenIcon = new L.Icon({
                iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',
                shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
                iconSize: [25, 41],
                iconAnchor: [12, 41],
                popupAnchor: [1, -34],
                shadowSize: [41, 41]
            });

            const orangeIcon = new L.Icon({
                iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-orange.png',
                shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
                iconSize: [25, 41],
                iconAnchor: [12, 41],
                popupAnchor: [1, -34],
                shadowSize: [41, 41]
            });

            // Add Hotel markers
            hotels.forEach(hotel => {
                if(hotel.lat && hotel.lng) {
                     const marker = L.marker([hotel.lat, hotel.lng], {icon: pinkIcon}).addTo(map);

                     // Permanent Tooltip (Label)
                     marker.bindTooltip(hotel.name, {
                         permanent: true,
                         direction: 'top',
                         className: 'map-label',
                         offset: [0, -40]
                     });

                     marker.bindPopup(`
                        <div class="font-sans">
                            <h3 class="font-bold text-base mb-1 text-pink-600">${hotel.name}</h3>
                            <p class="text-sm mb-2 text-gray-600">${hotel.priceDisplay}</p>
                            <a href="${hotel.mapUrl}" target="_blank" class="block w-full text-center bg-blue-500 text-white text-xs py-1.5 rounded hover:bg-blue-600 transition">
                                <i class="fas fa-location-arrow mr-1"></i> å°èˆªåœ¨æ­¤
                            </a>
                        </div>
                    `);
                }
            });

            // Add Forest Marker
            const forestMarker = L.marker([24.710, 121.430], {icon: orangeIcon}).addTo(map);
            forestMarker.bindTooltip("æ‹‰æ‹‰å±±åœ‹å®¶é¢¨æ™¯å€", {
                permanent: true,
                direction: 'top',
                className: 'map-label-forest',
                offset: [0, -40]
            });
            forestMarker.bindPopup(`
                <div class="font-sans">
                    <h3 class="font-bold text-base mb-1 text-orange-600">æ‹‰æ‹‰å±±åœ‹å®¶é¢¨æ™¯å€</h3>
                    <p class="text-xs text-gray-500 mb-2">å·¨æœ¨ç¾¤ç²¾è¯åœ°å¸¶ãƒ»æ£®å‘¼å¸</p>
                    <a href="https://www.google.com/maps/search/?api=1&query=æ‹‰æ‹‰å±±åœ‹å®¶é¢¨æ™¯å€" target="_blank" class="block w-full text-center bg-orange-500 text-white text-xs py-1.5 rounded hover:bg-orange-600 transition">
                        <i class="fas fa-tree mr-1"></i> é¡¯ç¤ºä½ç½®
                    </a>
                </div>
            `);

            // Add Tea Factory Marker
            const teaMarker = L.marker([24.675, 121.380], {icon: greenIcon}).addTo(map);
            teaMarker.bindTooltip("æ‹‰æ‹‰å±±è£½èŒ¶å»  (ä¸‰å…‰)", {
                permanent: true,
                direction: 'top',
                className: 'map-label-tea',
                offset: [0, -40]
            });
            teaMarker.bindPopup(`
                <div class="font-sans">
                    <h3 class="font-bold text-base mb-1 text-green-600">æ‹‰æ‹‰å±±è£½èŒ¶å»  (ä¸‰å…‰)</h3>
                    <p class="text-xs text-gray-500 mb-2">åœ¨åœ°å¥½èŒ¶ãƒ»å“èŒ—ä¼‘é–’</p>
                    <a href="https://www.google.com/maps/search/?api=1&query=æ‹‰æ‹‰å±±è£½èŒ¶å» " target="_blank" class="block w-full text-center bg-green-500 text-white text-xs py-1.5 rounded hover:bg-green-600 transition">
                        <i class="fas fa-leaf mr-1"></i> é¡¯ç¤ºä½ç½®
                    </a>
                </div>
            `);
        }


        // Render Table
        function renderTable(data) {
            tableBody.innerHTML = data.map(hotel => `
                <tr class="border-b border-gray-100 hover:bg-gray-50 transition">
                    <td class="py-3 px-3 md:px-6 font-medium text-gray-800">
                        <div class="flex items-center">
                            <span class="mr-1 md:mr-2 w-5 h-5 md:w-6 md:h-6 rounded-full bg-pink-100 text-pink-600 flex items-center justify-center text-xs font-bold flex-shrink-0">${hotel.id}</span>
                            <span class="text-xs md:text-base break-words">${hotel.name}</span>
                        </div>
                        <span class="text-[10px] md:text-xs text-gray-400 ml-6 md:ml-8 block">${hotel.legal}</span>
                    </td>
                    <td class="py-3 px-3 md:px-6 text-gray-600 text-xs md:text-sm">${hotel.priceDisplay}</td>
                    <td class="py-3 px-3 md:px-6">
                        <span class="px-2 py-1 rounded text-[10px] md:text-xs font-semibold ${getHeatingColor(hotel.heatingScore)} inline-block">
                            ${hotel.heating}
                        </span>
                    </td>
                    <td class="py-3 px-3 md:px-6 text-gray-600 text-xs md:text-sm">${hotel.food}</td>
                    <td class="py-3 px-3 md:px-6 text-gray-600 text-xs md:text-sm hidden md:table-cell">${hotel.view}</td>
                    <td class="py-3 px-3 md:px-6 text-center text-yellow-500 font-bold text-xs md:text-sm">â˜… ${hotel.rating}</td>
                </tr>
            `).join('');
        }

        function getHeatingColor(score) {
            if(score >= 5) return "bg-red-100 text-red-700 border border-red-200";
            if(score >= 4) return "bg-orange-100 text-orange-700";
            return "bg-gray-100 text-gray-600";
        }

        // Render Cards
        function renderCards() {
            cardsContainer.innerHTML = hotels.map(hotel => `
                <div class="bg-white rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition duration-300 transform hover:-translate-y-1 relative group">
                    <div class="h-48 relative bg-cover bg-center" style="background-image: url('${hotel.image}')">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"></div>
                        <div class="absolute bottom-0 left-0 p-4 text-white w-full">
                            <div class="flex justify-between items-end">
                                <div>
                                    <h3 class="text-2xl font-bold text-shadow">${hotel.name}</h3>
                                    <p class="text-sm opacity-90">${hotel.engName}</p>
                                    <a href="${hotel.mapUrl}" target="_blank" class="inline-block mt-1 text-xs text-white/90 hover:text-pink-200 transition bg-black/30 px-2 py-1 rounded backdrop-blur-sm">
                                        <i class="fas fa-map-marker-alt mr-1 text-pink-400"></i> Google Maps
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="absolute top-4 right-4 bg-white/90 backdrop-blur rounded-full px-3 py-1 text-gray-700 text-xs font-bold flex items-center shadow-lg">
                            <i class="fas fa-certificate mr-1 text-blue-500"></i> ${hotel.legal}
                        </div>
                    </div>
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-4">
                            <div class="space-y-1">
                                <span class="inline-block px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-md">ğŸ’° ${hotel.priceDisplay}</span>
                                <span class="inline-block px-2 py-1 bg-yellow-50 text-yellow-700 text-xs rounded-md">â˜… ${hotel.rating}</span>
                                ${hotel.heatingScore >= 5 ? '<span class="inline-block px-2 py-1 bg-red-50 text-red-600 text-xs rounded-md font-bold">ğŸ”¥ æµ´å®¤æš–æ°£</span>' : ''}
                            </div>
                        </div>

                        <p class="text-gray-600 mb-6 text-sm leading-relaxed h-10">${hotel.desc}</p>

                        ${hotel.attention ? `
                            <div class="mb-4 bg-yellow-50 border-l-4 border-yellow-400 p-3 rounded-r">
                                <h4 class="text-xs font-bold text-yellow-800 uppercase tracking-wide mb-1 flex justify-between items-center">
                                    <span><i class="fas fa-bullhorn mr-1"></i> ç¶²å‹çœŸå¯¦è©•åƒ¹</span>
                                    <a href="https://www.google.com/search?q=${hotel.name}+æ‹‰æ‹‰å±±+è©•åƒ¹" target="_blank" class="text-[10px] text-blue-500 hover:underline"><i class="fas fa-search"></i> æŸ¥è­‰</a>
                                </h4>
                                <p class="text-xs text-yellow-900 leading-relaxed">${hotel.attention}</p>
                            </div>
                        ` : ''}

                        <div class="space-y-2 mb-6">
                            <div class="flex items-center text-sm text-gray-500">
                                <i class="fas fa-temperature-high w-6 text-center text-red-400"></i>
                                <span>${hotel.heating}</span>
                            </div>
                            <div class="flex items-center text-sm text-gray-500">
                                <i class="fas fa-utensils w-6 text-center text-orange-400"></i>
                                <span>${hotel.food}</span>
                            </div>
                             <div class="flex items-center text-sm text-gray-500">
                                <i class="fas fa-mountain w-6 text-center text-green-400"></i>
                                <span>${hotel.view}</span>
                            </div>
                        </div>

                        <div class="flex items-center justify-between mt-auto pt-4 border-t border-gray-100">
                             <button onclick="openModal(${hotel.id})" class="w-full bg-white border-2 border-pink-500 text-pink-600 font-bold py-2 rounded-xl hover:bg-pink-50 transition text-sm">
                                <i class="fas fa-bed mr-1"></i> æŸ¥çœ‹æˆ¿å‹èˆ‡è©³æƒ…
                             </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Modal Functions
        function openModal(id) {
            const hotel = hotels.find(h => h.id === id);
            if(!hotel) return;

            document.getElementById('modal-title').innerText = hotel.name;
            document.getElementById('modal-subtitle').innerText = "2026 æ«»èŠ±å­£ãƒ»æˆ¿å‹èˆ‡åƒ¹æ ¼é ä¼°åˆ†æ";

            const contentHTML = `
                <div class="space-y-6">
                    <div class="bg-pink-50 rounded-xl p-4 border border-pink-100">
                         <h4 class="font-bold text-pink-800 mb-2"><i class="fas fa-star mr-2"></i>æ ¸å¿ƒäº®é»ç¸½çµ</h4>
                         <p class="text-gray-700 text-sm leading-relaxed">${hotel.desc}</p>
                    </div>

                    ${hotel.attention ? `
                    <div class="bg-yellow-50 rounded-xl p-4 border border-yellow-200">
                         <h4 class="font-bold text-yellow-800 mb-2"><i class="fas fa-exclamation-triangle mr-2"></i>ç¶²å‹çœŸå¯¦è©•åƒ¹èˆ‡æ³¨æ„</h4>
                         <p class="text-gray-700 text-sm leading-relaxed">${hotel.attention}</p>
                    </div>` : ''}

                    <div>
                        <h4 class="font-bold text-gray-800 mb-4 text-lg">æ¨è–¦æˆ¿å‹è©³ç´°æ¯”è¼ƒ</h4>
                        <div class="grid gap-4">
                            ${hotel.rooms.map(room => `
                                <div class="bg-white border rounded-xl p-4 shadow-sm hover:shadow-md transition">
                                    <div class="mb-4 rounded-lg overflow-hidden group relative h-48 cursor-pointer" onclick="window.open('${room.link}', '_blank')">
                                        <img src="${room.image}" alt="${room.name}" class="w-full h-full object-cover transform group-hover:scale-105 transition duration-500">
                                        <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-4">
                                             <span class="text-white text-xs font-bold bg-black/40 px-2 py-1 rounded backdrop-blur-sm group-hover:bg-pink-600 transition">
                                                <i class="fas fa-camera mr-1"></i> æŸ¥çœ‹æˆ¿å‹ç…§ç‰‡
                                             </span>
                                        </div>
                                    </div>
                                    <div class="flex flex-col md:flex-row md:justify-between md:items-start gap-2 mb-2">
                                        <h5 class="font-bold text-lg text-gray-800 flex items-center">
                                            ${room.name}
                                            <a href="${room.link}" target="_blank" class="ml-2 text-gray-400 hover:text-blue-500 text-sm"><i class="fas fa-external-link-alt"></i></a>
                                        </h5>
                                        <span class="bg-gray-100 text-gray-600 px-3 py-1 rounded-full text-xs md:text-sm font-bold self-start md:self-auto break-all md:break-normal">${room.prices}</span>
                                    </div>
                                    <div class="flex flex-wrap gap-2 mb-3">
                                        ${room.features.map(f => `<span class="text-xs px-2 py-1 bg-blue-50 text-blue-600 rounded border border-blue-100">${f}</span>`).join('')}
                                    </div>
                                    <div class="flex items-start text-sm text-gray-600 bg-gray-50 p-2 rounded">
                                        <i class="fas fa-info-circle mt-1 mr-2 text-orange-400 flex-shrink-0"></i>
                                        <span>${room.note}</span>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                         <p class="text-xs text-gray-400 mt-4 text-center">* åƒ¹æ ¼ç‚ºæ«»èŠ±å­£æ—ºå­£é ä¼°ï¼Œå¯¦éš›è«‹ä»¥è¨‚æˆ¿æ™‚å ±åƒ¹ç‚ºæº–</p>
                    </div>

                    <div class="flex flex-col md:flex-row justify-end gap-3 pt-4 border-t">
                        <button onclick="closeModal()" class="w-full md:w-auto px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition font-bold order-2 md:order-1">é—œé–‰</button>
                        <a href="${hotel.mapUrl}" target="_blank" class="w-full md:w-auto px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-bold shadow-lg text-center order-1 md:order-2">
                            <i class="fas fa-location-arrow mr-2"></i>å°èˆª
                        </a>
                    </div>
                </div>
            `;

            document.getElementById('modal-body').innerHTML = contentHTML;
            document.getElementById('room-modal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('room-modal').classList.remove('active');
        }

        // Close modal when clicking outside
        document.getElementById('room-modal').addEventListener('click', function(e) {
            if (e.target === this) closeModal();
        });

        function filterTable(type) {
            if(type === 'all') renderTable(hotels);
            if(type === 'heating') renderTable(hotels.filter(h => h.heatingScore >= 4));
            if(type === 'food') renderTable(hotels.filter(h => h.food.includes('æ™šé¤') || h.food.includes('å»šæˆ¿')));
        }

        function sortTable(n) {
            // Simplified sort toggle for demo
            hotels.sort((a, b) => {
                let valA = n===0 ? a.name : a.price;
                let valB = n===0 ? b.name : b.price;
                return valA > valB ? 1 : -1;
            });
            renderTable(hotels);
        }

        // Chart
        function updateChart() {
            const total = Object.values(votes).reduce((a,b)=>a+b, 0);
            totalVotesEl.innerText = total;

            const ctx = document.getElementById('voteChart').getContext('2d');
            const data = hotels.map(h => votes[h.id]);
            const labels = hotels.map(h => h.name.substring(0, 4) + '..');

            if(chartInstance) chartInstance.destroy();

            chartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'å¾—ç¥¨æ•¸',
                        data: data,
                        backgroundColor: 'rgba(219, 39, 119, 0.7)',
                        borderRadius: 4,
                        barThickness: 10
                    }]
                },
                options: {
                    plugins: { legend: { display: false } },
                    scales: {
                        y: { display: false },
                        x: { grid: { display: false }, ticks: { font: { size: 10 } } }
                    },
                    maintainAspectRatio: false,
                    responsive: true
                }
            });
        }

        // Run
        init();

    </script>
</body>
</html>